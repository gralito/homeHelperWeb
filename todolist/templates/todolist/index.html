<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomeHelper</title>
    <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.8/dist/htmx.min.js" integrity="sha384-/TgkGk7p307TH7EXJDuUlgG3Ce1UVolAOFopFekQkkXihi5u/6OCvVKyz1W+idaz" crossorigin="anonymous"></script>
</head>
<body>
    <h1>Nos ToDoLists :</h1>
    
    <!-- affichage des collections -->
    <div>
        <p>
            Liste en cours : {{ current_collection.name}}
        </p>
        {% for collection in collections %}
            {% include 'todolist/collection.html' with collection=collection %}
        {% endfor %}

        <form method="POST" action="{% url 'todolist:add-collection' %}">
            {% csrf_token %}
            <input type='text' placeholder='new collection...' name="collection"/>
            <button type=submit>Add</button>
        </form>
    </div>

    <!-- affichage des taches -->
    <div>
        {% for task in tasks %}
            {% include 'todolist/task.html' with task=task %}
        {% endfor %}
        <form method="POST" action="{% url 'todolist:add-task' current_collection.pk %}">
            {% csrf_token %}
            <input type='text' placeholder='new task...' name="task"/>
            <button type=submit>Add</button>
        </form>
    </div>

</body>
</html>